{% extends "dashboard/base_vertical.html" %}
{% block title %}Record bet – {{ game.home_team.name }} vs {{ game.away_team.name }} – Bet Prediction{% endblock %}

{% block content %}
<p style="margin-bottom:1rem;">
  {% if country_slug %}<a href="{% url 'api_football:journal_games' country_slug %}" style="color:#8b949e;">← Back to games</a>{% else %}<a href="{% url 'api_football:journal_index' %}" style="color:#8b949e;">← Journal</a>{% endif %}
</p>

<h1>Record bet</h1>
<p style="font-size:1.1rem; margin-bottom:0.5rem;"><strong>{{ game.home_team.name }}</strong> vs <strong>{{ game.away_team.name }}</strong></p>
<p style="color:#8b949e; margin-bottom:1.5rem;">Result: {{ game.score_display }} (total goals: {{ game.home_goals|default:0|add:game.away_goals|default:0 }})</p>

{% if existing %}
<p style="margin-bottom:1rem;">Current entry: you bet <strong>{{ existing.get_choice_display }}</strong> → <strong>{{ existing.get_result_display }}</strong>. You can change it below.</p>
{% endif %}

<form method="post" action="">
  {% csrf_token %}
  <p style="margin-bottom:0.75rem;">Did you bet Over 2.5 or Under 2.5?</p>
  <p style="display:flex; gap:1rem; flex-wrap:wrap;">
    <label style="display:flex; align-items:center; gap:0.5rem; cursor:pointer;">
      <input type="radio" name="choice" value="over" {% if existing and existing.choice == 'over' %}checked{% endif %}>
      <span>Over 2.5</span>
    </label>
    <label style="display:flex; align-items:center; gap:0.5rem; cursor:pointer;">
      <input type="radio" name="choice" value="under" {% if existing and existing.choice == 'under' %}checked{% endif %}>
      <span>Under 2.5</span>
    </label>
  </p>
  <p style="margin-top:1rem;">
    <button type="submit" style="background:#238636; color:#fff; border:none; padding:0.5rem 1rem; border-radius:6px; cursor:pointer; font-size:1rem;">Save to journal</button>
  </p>
</form>
<p style="color:#8b949e; font-size:0.9rem; margin-top:1rem;">The journal will automatically mark this as Win or Loss based on the final score.</p>
{% endblock %}
